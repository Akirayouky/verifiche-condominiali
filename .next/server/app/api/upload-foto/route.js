"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/upload-foto/route";
exports.ids = ["app/api/upload-foto/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fupload-foto%2Froute&page=%2Fapi%2Fupload-foto%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload-foto%2Froute.ts&appDir=%2FUsers%2Fakirayouky%2FDesktop%2FSiti%2FCondomini%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fakirayouky%2FDesktop%2FSiti%2FCondomini&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fupload-foto%2Froute&page=%2Fapi%2Fupload-foto%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload-foto%2Froute.ts&appDir=%2FUsers%2Fakirayouky%2FDesktop%2FSiti%2FCondomini%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fakirayouky%2FDesktop%2FSiti%2FCondomini&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_akirayouky_Desktop_Siti_Condomini_src_app_api_upload_foto_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/upload-foto/route.ts */ \"(rsc)/./src/app/api/upload-foto/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/upload-foto/route\",\n        pathname: \"/api/upload-foto\",\n        filename: \"route\",\n        bundlePath: \"app/api/upload-foto/route\"\n    },\n    resolvedPagePath: \"/Users/akirayouky/Desktop/Siti/Condomini/src/app/api/upload-foto/route.ts\",\n    nextConfigOutput,\n    userland: _Users_akirayouky_Desktop_Siti_Condomini_src_app_api_upload_foto_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/upload-foto/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1cGxvYWQtZm90byUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdXBsb2FkLWZvdG8lMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ1cGxvYWQtZm90byUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFraXJheW91a3klMkZEZXNrdG9wJTJGU2l0aSUyRkNvbmRvbWluaSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZha2lyYXlvdWt5JTJGRGVza3RvcCUyRlNpdGklMkZDb25kb21pbmkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29uZG9taW5pLXB3YS8/NjUwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYWtpcmF5b3VreS9EZXNrdG9wL1NpdGkvQ29uZG9taW5pL3NyYy9hcHAvYXBpL3VwbG9hZC1mb3RvL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91cGxvYWQtZm90by9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VwbG9hZC1mb3RvXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS91cGxvYWQtZm90by9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9ha2lyYXlvdWt5L0Rlc2t0b3AvU2l0aS9Db25kb21pbmkvc3JjL2FwcC9hcGkvdXBsb2FkLWZvdG8vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3VwbG9hZC1mb3RvL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fupload-foto%2Froute&page=%2Fapi%2Fupload-foto%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload-foto%2Froute.ts&appDir=%2FUsers%2Fakirayouky%2FDesktop%2FSiti%2FCondomini%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fakirayouky%2FDesktop%2FSiti%2FCondomini&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/upload-foto/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/upload-foto/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_cloudinary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/cloudinary */ \"(rsc)/./src/lib/cloudinary.ts\");\n/**\n * API Route per upload foto su Cloudinary\n * POST /api/upload-foto\n */ \n\nasync function POST(request) {\n    try {\n        console.log(\"\\uD83D\\uDCE4 API Upload foto - Start\");\n        const { foto, lavorazioneId } = await request.json();\n        // Validazione input\n        if (!foto || !lavorazioneId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Foto e lavorazioneId sono obbligatori\"\n            }, {\n                status: 400\n            });\n        }\n        if (!Array.isArray(foto)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Foto deve essere un array\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(`📷 Uploading ${foto.length} foto per lavorazione ${lavorazioneId}`);\n        // Upload di tutte le foto in parallelo\n        const uploadPromises = foto.map(async (fotoBase64, index)=>{\n            try {\n                const result = await (0,_lib_cloudinary__WEBPACK_IMPORTED_MODULE_1__.uploadFotoLavorazione)(fotoBase64, lavorazioneId, index);\n                return {\n                    index,\n                    success: true,\n                    url: result.url,\n                    publicId: result.publicId\n                };\n            } catch (error) {\n                console.error(`❌ Errore upload foto ${index}:`, error);\n                return {\n                    index,\n                    success: false,\n                    error: error instanceof Error ? error.message : \"Errore upload\"\n                };\n            }\n        });\n        const results = await Promise.all(uploadPromises);\n        // Separa successi e errori\n        const successi = results.filter((r)=>r.success);\n        const errori = results.filter((r)=>!r.success);\n        console.log(`✅ Upload completato: ${successi.length} successi, ${errori.length} errori`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: {\n                foto: successi.map((s)=>({\n                        url: s.url,\n                        publicId: s.publicId\n                    })),\n                errori: errori.length > 0 ? errori : undefined\n            }\n        });\n    } catch (error) {\n        console.error(\"❌ Errore generale upload foto:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Errore interno del server durante upload foto\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS91cGxvYWQtZm90by9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0NBR0MsR0FFc0Q7QUFDQztBQUVqRCxlQUFlRSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztRQUVaLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxhQUFhLEVBQUUsR0FBRyxNQUFNSixRQUFRSyxJQUFJO1FBRWxELG9CQUFvQjtRQUNwQixJQUFJLENBQUNGLFFBQVEsQ0FBQ0MsZUFBZTtZQUMzQixPQUFPUCxxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtnQkFBRUMsU0FBUztnQkFBT0MsT0FBTztZQUF3QyxHQUNqRTtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsSUFBSSxDQUFDQyxNQUFNQyxPQUFPLENBQUNQLE9BQU87WUFDeEIsT0FBT04scURBQVlBLENBQUNRLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7Z0JBQU9DLE9BQU87WUFBNEIsR0FDckQ7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBUCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUVDLEtBQUtRLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRVAsY0FBYyxDQUFDO1FBRS9FLHVDQUF1QztRQUN2QyxNQUFNUSxpQkFBaUJULEtBQUtVLEdBQUcsQ0FBQyxPQUFPQyxZQUFvQkM7WUFDekQsSUFBSTtnQkFDRixNQUFNQyxTQUFTLE1BQU1sQixzRUFBcUJBLENBQUNnQixZQUFZVixlQUFlVztnQkFDdEUsT0FBTztvQkFDTEE7b0JBQ0FULFNBQVM7b0JBQ1RXLEtBQUtELE9BQU9DLEdBQUc7b0JBQ2ZDLFVBQVVGLE9BQU9FLFFBQVE7Z0JBQzNCO1lBQ0YsRUFBRSxPQUFPWCxPQUFPO2dCQUNkTixRQUFRTSxLQUFLLENBQUMsQ0FBQyxxQkFBcUIsRUFBRVEsTUFBTSxDQUFDLENBQUMsRUFBRVI7Z0JBQ2hELE9BQU87b0JBQ0xRO29CQUNBVCxTQUFTO29CQUNUQyxPQUFPQSxpQkFBaUJZLFFBQVFaLE1BQU1hLE9BQU8sR0FBRztnQkFDbEQ7WUFDRjtRQUNGO1FBRUEsTUFBTUMsVUFBVSxNQUFNQyxRQUFRQyxHQUFHLENBQUNYO1FBRWxDLDJCQUEyQjtRQUMzQixNQUFNWSxXQUFXSCxRQUFRSSxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVwQixPQUFPO1FBQzlDLE1BQU1xQixTQUFTTixRQUFRSSxNQUFNLENBQUNDLENBQUFBLElBQUssQ0FBQ0EsRUFBRXBCLE9BQU87UUFFN0NMLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixFQUFFc0IsU0FBU2IsTUFBTSxDQUFDLFdBQVcsRUFBRWdCLE9BQU9oQixNQUFNLENBQUMsT0FBTyxDQUFDO1FBRXZGLE9BQU9kLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVHNCLE1BQU07Z0JBQ0p6QixNQUFNcUIsU0FBU1gsR0FBRyxDQUFDZ0IsQ0FBQUEsSUFBTTt3QkFDdkJaLEtBQUtZLEVBQUVaLEdBQUc7d0JBQ1ZDLFVBQVVXLEVBQUVYLFFBQVE7b0JBQ3RCO2dCQUNBUyxRQUFRQSxPQUFPaEIsTUFBTSxHQUFHLElBQUlnQixTQUFTRztZQUN2QztRQUNGO0lBRUYsRUFBRSxPQUFPdkIsT0FBTztRQUNkTixRQUFRTSxLQUFLLENBQUMsa0NBQWtDQTtRQUNoRCxPQUFPVixxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RDLE9BQU87UUFDVCxHQUNBO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29uZG9taW5pLXB3YS8uL3NyYy9hcHAvYXBpL3VwbG9hZC1mb3RvL3JvdXRlLnRzP2JkOWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBUEkgUm91dGUgcGVyIHVwbG9hZCBmb3RvIHN1IENsb3VkaW5hcnlcbiAqIFBPU1QgL2FwaS91cGxvYWQtZm90b1xuICovXG5cbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IHVwbG9hZEZvdG9MYXZvcmF6aW9uZSB9IGZyb20gJ0AvbGliL2Nsb3VkaW5hcnknXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk6QgQVBJIFVwbG9hZCBmb3RvIC0gU3RhcnQnKVxuICAgIFxuICAgIGNvbnN0IHsgZm90bywgbGF2b3JhemlvbmVJZCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIC8vIFZhbGlkYXppb25lIGlucHV0XG4gICAgaWYgKCFmb3RvIHx8ICFsYXZvcmF6aW9uZUlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRm90byBlIGxhdm9yYXppb25lSWQgc29ubyBvYmJsaWdhdG9yaScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZvdG8pKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRm90byBkZXZlIGVzc2VyZSB1biBhcnJheScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCfk7cgVXBsb2FkaW5nICR7Zm90by5sZW5ndGh9IGZvdG8gcGVyIGxhdm9yYXppb25lICR7bGF2b3JhemlvbmVJZH1gKVxuXG4gICAgLy8gVXBsb2FkIGRpIHR1dHRlIGxlIGZvdG8gaW4gcGFyYWxsZWxvXG4gICAgY29uc3QgdXBsb2FkUHJvbWlzZXMgPSBmb3RvLm1hcChhc3luYyAoZm90b0Jhc2U2NDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGxvYWRGb3RvTGF2b3JhemlvbmUoZm90b0Jhc2U2NCwgbGF2b3JhemlvbmVJZCwgaW5kZXgpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICB1cmw6IHJlc3VsdC51cmwsXG4gICAgICAgICAgcHVibGljSWQ6IHJlc3VsdC5wdWJsaWNJZCxcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yZSB1cGxvYWQgZm90byAke2luZGV4fTpgLCBlcnJvcilcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRXJyb3JlIHVwbG9hZCcsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHVwbG9hZFByb21pc2VzKVxuICAgIFxuICAgIC8vIFNlcGFyYSBzdWNjZXNzaSBlIGVycm9yaVxuICAgIGNvbnN0IHN1Y2Nlc3NpID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN1Y2Nlc3MpXG4gICAgY29uc3QgZXJyb3JpID0gcmVzdWx0cy5maWx0ZXIociA9PiAhci5zdWNjZXNzKVxuXG4gICAgY29uc29sZS5sb2coYOKchSBVcGxvYWQgY29tcGxldGF0bzogJHtzdWNjZXNzaS5sZW5ndGh9IHN1Y2Nlc3NpLCAke2Vycm9yaS5sZW5ndGh9IGVycm9yaWApXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZm90bzogc3VjY2Vzc2kubWFwKHMgPT4gKHtcbiAgICAgICAgICB1cmw6IHMudXJsLFxuICAgICAgICAgIHB1YmxpY0lkOiBzLnB1YmxpY0lkLFxuICAgICAgICB9KSksXG4gICAgICAgIGVycm9yaTogZXJyb3JpLmxlbmd0aCA+IDAgPyBlcnJvcmkgOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3JlIGdlbmVyYWxlIHVwbG9hZCBmb3RvOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6ICdFcnJvcmUgaW50ZXJubyBkZWwgc2VydmVyIGR1cmFudGUgdXBsb2FkIGZvdG8nIFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ1cGxvYWRGb3RvTGF2b3JhemlvbmUiLCJQT1NUIiwicmVxdWVzdCIsImNvbnNvbGUiLCJsb2ciLCJmb3RvIiwibGF2b3JhemlvbmVJZCIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJzdGF0dXMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJ1cGxvYWRQcm9taXNlcyIsIm1hcCIsImZvdG9CYXNlNjQiLCJpbmRleCIsInJlc3VsdCIsInVybCIsInB1YmxpY0lkIiwiRXJyb3IiLCJtZXNzYWdlIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJzdWNjZXNzaSIsImZpbHRlciIsInIiLCJlcnJvcmkiLCJkYXRhIiwicyIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/upload-foto/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/cloudinary.ts":
/*!*******************************!*\
  !*** ./src/lib/cloudinary.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   deleteFotoCloudinary: () => (/* binding */ deleteFotoCloudinary),\n/* harmony export */   getFotoLavorazione: () => (/* binding */ getFotoLavorazione),\n/* harmony export */   getOptimizedImageUrl: () => (/* binding */ getOptimizedImageUrl),\n/* harmony export */   getThumbnailUrl: () => (/* binding */ getThumbnailUrl),\n/* harmony export */   uploadFotoLavorazione: () => (/* binding */ uploadFotoLavorazione)\n/* harmony export */ });\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cloudinary */ \"(rsc)/./node_modules/cloudinary/cloudinary.js\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cloudinary__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * Configurazione Cloudinary per gestione foto delle lavorazioni\n */ \n// Configurazione server-side\ncloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.config({\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n});\n/**\n * Upload foto su Cloudinary con organizzazione per lavorazioni\n */ const uploadFotoLavorazione = async (fotoBase64, lavorazioneId, fotoIndex)=>{\n    try {\n        // Genera public_id univoco: lavorazione-{id}/foto-{index}-{timestamp}\n        const timestamp = Date.now();\n        const publicId = `lavorazioni/${lavorazioneId}/foto-${fotoIndex}-${timestamp}`;\n        console.log(\"\\uD83D\\uDCE4 Uploading foto to Cloudinary:\", {\n            lavorazioneId,\n            fotoIndex,\n            publicId\n        });\n        // Upload su Cloudinary\n        const result = await cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.upload(fotoBase64, {\n            public_id: publicId,\n            folder: \"condomini-app/lavorazioni\",\n            resource_type: \"image\",\n            transformation: [\n                // Ottimizzazione automatica\n                {\n                    quality: \"auto\",\n                    fetch_format: \"auto\"\n                },\n                // Resize se troppo grande\n                {\n                    width: 1920,\n                    height: 1920,\n                    crop: \"limit\"\n                }\n            ],\n            // Genera anche thumbnail\n            eager: [\n                {\n                    width: 300,\n                    height: 300,\n                    crop: \"fill\",\n                    quality: \"auto\"\n                },\n                {\n                    width: 150,\n                    height: 150,\n                    crop: \"thumb\",\n                    gravity: \"face\"\n                }\n            ]\n        });\n        console.log(\"✅ Foto uploaded successfully:\", result.secure_url);\n        return {\n            url: result.secure_url,\n            publicId: result.public_id\n        };\n    } catch (error) {\n        console.error(\"❌ Errore upload Cloudinary:\", error);\n        throw new Error(\"Errore durante l'upload della foto\");\n    }\n};\n/**\n * Elimina foto da Cloudinary\n */ const deleteFotoCloudinary = async (publicId)=>{\n    try {\n        console.log(\"\\uD83D\\uDDD1️ Deleting foto from Cloudinary:\", publicId);\n        const result = await cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.destroy(publicId);\n        console.log(\"✅ Foto deleted:\", result);\n        return result.result === \"ok\";\n    } catch (error) {\n        console.error(\"❌ Errore eliminazione Cloudinary:\", error);\n        return false;\n    }\n};\n/**\n * Genera URL ottimizzato per diverse dimensioni\n */ const getOptimizedImageUrl = (publicId, options = {})=>{\n    const { width = 800, height, quality = \"auto\", crop = \"limit\" } = options;\n    return cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.url(publicId, {\n        width,\n        height,\n        quality,\n        crop,\n        fetch_format: \"auto\"\n    });\n};\n/**\n * Ottieni URL thumbnail\n */ const getThumbnailUrl = (publicId, size = 150)=>{\n    return cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.url(publicId, {\n        width: size,\n        height: size,\n        crop: \"thumb\",\n        gravity: \"face\",\n        quality: \"auto\",\n        fetch_format: \"auto\"\n    });\n};\n/**\n * Lista tutte le foto di una lavorazione\n */ const getFotoLavorazione = async (lavorazioneId)=>{\n    try {\n        const result = await cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.search.expression(`folder:condomini-app/lavorazioni/${lavorazioneId}`).sort_by(\"created_at\", \"desc\").execute();\n        return result.resources.map((resource)=>({\n                url: resource.secure_url,\n                publicId: resource.public_id,\n                createdAt: resource.created_at\n            }));\n    } catch (error) {\n        console.error(\"❌ Errore recupero foto lavorazione:\", error);\n        return [];\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXFCLE9BQU9oQztJQUN2QyxJQUFJO1FBQ0YsTUFBTVEsU0FBUyxNQUFNcEIsMENBQVVBLENBQUM2QyxNQUFNLENBQ25DQyxVQUFVLENBQUMsQ0FBQyxpQ0FBaUMsRUFBRWxDLGNBQWMsQ0FBQyxFQUM5RG1DLE9BQU8sQ0FBQyxjQUFjLFFBQ3RCQyxPQUFPO1FBRVYsT0FBTzVCLE9BQU82QixTQUFTLENBQUNDLEdBQUcsQ0FBQyxDQUFDQyxXQUFtQjtnQkFDOUNoQixLQUFLZ0IsU0FBU2pCLFVBQVU7Z0JBQ3hCakIsVUFBVWtDLFNBQVM1QixTQUFTO2dCQUM1QjZCLFdBQVdELFNBQVNFLFVBQVU7WUFDaEM7SUFDRixFQUFFLE9BQU9qQixPQUFPO1FBQ2RsQixRQUFRa0IsS0FBSyxDQUFDLHVDQUF1Q0E7UUFDckQsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFDO0FBRUQsaUVBQWVwQywwQ0FBVUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbmRvbWluaS1wd2EvLi9zcmMvbGliL2Nsb3VkaW5hcnkudHM/ZTFmYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbmZpZ3VyYXppb25lIENsb3VkaW5hcnkgcGVyIGdlc3Rpb25lIGZvdG8gZGVsbGUgbGF2b3JhemlvbmlcbiAqL1xuXG5pbXBvcnQgeyB2MiBhcyBjbG91ZGluYXJ5IH0gZnJvbSAnY2xvdWRpbmFyeSdcblxuLy8gQ29uZmlndXJhemlvbmUgc2VydmVyLXNpZGVcbmNsb3VkaW5hcnkuY29uZmlnKHtcbiAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9DTE9VRF9OQU1FLFxuICBhcGlfa2V5OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9LRVksXG4gIGFwaV9zZWNyZXQ6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX1NFQ1JFVCxcbn0pXG5cbi8qKlxuICogVXBsb2FkIGZvdG8gc3UgQ2xvdWRpbmFyeSBjb24gb3JnYW5penphemlvbmUgcGVyIGxhdm9yYXppb25pXG4gKi9cbmV4cG9ydCBjb25zdCB1cGxvYWRGb3RvTGF2b3JhemlvbmUgPSBhc3luYyAoXG4gIGZvdG9CYXNlNjQ6IHN0cmluZyxcbiAgbGF2b3JhemlvbmVJZDogc3RyaW5nLFxuICBmb3RvSW5kZXg6IG51bWJlclxuKTogUHJvbWlzZTx7IHVybDogc3RyaW5nOyBwdWJsaWNJZDogc3RyaW5nIH0+ID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBHZW5lcmEgcHVibGljX2lkIHVuaXZvY286IGxhdm9yYXppb25lLXtpZH0vZm90by17aW5kZXh9LXt0aW1lc3RhbXB9XG4gICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKVxuICAgIGNvbnN0IHB1YmxpY0lkID0gYGxhdm9yYXppb25pLyR7bGF2b3JhemlvbmVJZH0vZm90by0ke2ZvdG9JbmRleH0tJHt0aW1lc3RhbXB9YFxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5OkIFVwbG9hZGluZyBmb3RvIHRvIENsb3VkaW5hcnk6JywgeyBsYXZvcmF6aW9uZUlkLCBmb3RvSW5kZXgsIHB1YmxpY0lkIH0pXG4gICAgXG4gICAgLy8gVXBsb2FkIHN1IENsb3VkaW5hcnlcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbG91ZGluYXJ5LnVwbG9hZGVyLnVwbG9hZChmb3RvQmFzZTY0LCB7XG4gICAgICBwdWJsaWNfaWQ6IHB1YmxpY0lkLFxuICAgICAgZm9sZGVyOiAnY29uZG9taW5pLWFwcC9sYXZvcmF6aW9uaScsXG4gICAgICByZXNvdXJjZV90eXBlOiAnaW1hZ2UnLFxuICAgICAgdHJhbnNmb3JtYXRpb246IFtcbiAgICAgICAgLy8gT3R0aW1penphemlvbmUgYXV0b21hdGljYVxuICAgICAgICB7IHF1YWxpdHk6ICdhdXRvJywgZmV0Y2hfZm9ybWF0OiAnYXV0bycgfSxcbiAgICAgICAgLy8gUmVzaXplIHNlIHRyb3BwbyBncmFuZGVcbiAgICAgICAgeyB3aWR0aDogMTkyMCwgaGVpZ2h0OiAxOTIwLCBjcm9wOiAnbGltaXQnIH0sXG4gICAgICBdLFxuICAgICAgLy8gR2VuZXJhIGFuY2hlIHRodW1ibmFpbFxuICAgICAgZWFnZXI6IFtcbiAgICAgICAgeyB3aWR0aDogMzAwLCBoZWlnaHQ6IDMwMCwgY3JvcDogJ2ZpbGwnLCBxdWFsaXR5OiAnYXV0bycgfSxcbiAgICAgICAgeyB3aWR0aDogMTUwLCBoZWlnaHQ6IDE1MCwgY3JvcDogJ3RodW1iJywgZ3Jhdml0eTogJ2ZhY2UnIH1cbiAgICAgIF0sXG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKCfinIUgRm90byB1cGxvYWRlZCBzdWNjZXNzZnVsbHk6JywgcmVzdWx0LnNlY3VyZV91cmwpXG5cbiAgICByZXR1cm4ge1xuICAgICAgdXJsOiByZXN1bHQuc2VjdXJlX3VybCxcbiAgICAgIHB1YmxpY0lkOiByZXN1bHQucHVibGljX2lkLFxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3JlIHVwbG9hZCBDbG91ZGluYXJ5OicsIGVycm9yKVxuICAgIHRocm93IG5ldyBFcnJvcignRXJyb3JlIGR1cmFudGUgbFxcJ3VwbG9hZCBkZWxsYSBmb3RvJylcbiAgfVxufVxuXG4vKipcbiAqIEVsaW1pbmEgZm90byBkYSBDbG91ZGluYXJ5XG4gKi9cbmV4cG9ydCBjb25zdCBkZWxldGVGb3RvQ2xvdWRpbmFyeSA9IGFzeW5jIChwdWJsaWNJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/Cfl5HvuI8gRGVsZXRpbmcgZm90byBmcm9tIENsb3VkaW5hcnk6JywgcHVibGljSWQpXG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xvdWRpbmFyeS51cGxvYWRlci5kZXN0cm95KHB1YmxpY0lkKVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinIUgRm90byBkZWxldGVkOicsIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0LnJlc3VsdCA9PT0gJ29rJ1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvcmUgZWxpbWluYXppb25lIENsb3VkaW5hcnk6JywgZXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmEgVVJMIG90dGltaXp6YXRvIHBlciBkaXZlcnNlIGRpbWVuc2lvbmlcbiAqL1xuZXhwb3J0IGNvbnN0IGdldE9wdGltaXplZEltYWdlVXJsID0gKFxuICBwdWJsaWNJZDogc3RyaW5nLCBcbiAgb3B0aW9uczoge1xuICAgIHdpZHRoPzogbnVtYmVyXG4gICAgaGVpZ2h0PzogbnVtYmVyXG4gICAgcXVhbGl0eT86IHN0cmluZyB8IG51bWJlclxuICAgIGNyb3A/OiBzdHJpbmdcbiAgfSA9IHt9XG4pID0+IHtcbiAgY29uc3QgeyB3aWR0aCA9IDgwMCwgaGVpZ2h0LCBxdWFsaXR5ID0gJ2F1dG8nLCBjcm9wID0gJ2xpbWl0JyB9ID0gb3B0aW9uc1xuICBcbiAgcmV0dXJuIGNsb3VkaW5hcnkudXJsKHB1YmxpY0lkLCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHF1YWxpdHksXG4gICAgY3JvcCxcbiAgICBmZXRjaF9mb3JtYXQ6ICdhdXRvJyxcbiAgfSlcbn1cblxuLyoqXG4gKiBPdHRpZW5pIFVSTCB0aHVtYm5haWxcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFRodW1ibmFpbFVybCA9IChwdWJsaWNJZDogc3RyaW5nLCBzaXplOiBudW1iZXIgPSAxNTApID0+IHtcbiAgcmV0dXJuIGNsb3VkaW5hcnkudXJsKHB1YmxpY0lkLCB7XG4gICAgd2lkdGg6IHNpemUsXG4gICAgaGVpZ2h0OiBzaXplLFxuICAgIGNyb3A6ICd0aHVtYicsXG4gICAgZ3Jhdml0eTogJ2ZhY2UnLFxuICAgIHF1YWxpdHk6ICdhdXRvJyxcbiAgICBmZXRjaF9mb3JtYXQ6ICdhdXRvJyxcbiAgfSlcbn1cblxuLyoqXG4gKiBMaXN0YSB0dXR0ZSBsZSBmb3RvIGRpIHVuYSBsYXZvcmF6aW9uZVxuICovXG5leHBvcnQgY29uc3QgZ2V0Rm90b0xhdm9yYXppb25lID0gYXN5bmMgKGxhdm9yYXppb25lSWQ6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsb3VkaW5hcnkuc2VhcmNoXG4gICAgICAuZXhwcmVzc2lvbihgZm9sZGVyOmNvbmRvbWluaS1hcHAvbGF2b3JhemlvbmkvJHtsYXZvcmF6aW9uZUlkfWApXG4gICAgICAuc29ydF9ieSgnY3JlYXRlZF9hdCcsICdkZXNjJylcbiAgICAgIC5leGVjdXRlKClcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0LnJlc291cmNlcy5tYXAoKHJlc291cmNlOiBhbnkpID0+ICh7XG4gICAgICB1cmw6IHJlc291cmNlLnNlY3VyZV91cmwsXG4gICAgICBwdWJsaWNJZDogcmVzb3VyY2UucHVibGljX2lkLFxuICAgICAgY3JlYXRlZEF0OiByZXNvdXJjZS5jcmVhdGVkX2F0LFxuICAgIH0pKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvcmUgcmVjdXBlcm8gZm90byBsYXZvcmF6aW9uZTonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbG91ZGluYXJ5Il0sIm5hbWVzIjpbInYyIiwiY2xvdWRpbmFyeSIsImNvbmZpZyIsImNsb3VkX25hbWUiLCJwcm9jZXNzIiwiZW52IiwiQ0xPVURJTkFSWV9DTE9VRF9OQU1FIiwiYXBpX2tleSIsIkNMT1VESU5BUllfQVBJX0tFWSIsImFwaV9zZWNyZXQiLCJDTE9VRElOQVJZX0FQSV9TRUNSRVQiLCJ1cGxvYWRGb3RvTGF2b3JhemlvbmUiLCJmb3RvQmFzZTY0IiwibGF2b3JhemlvbmVJZCIsImZvdG9JbmRleCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJwdWJsaWNJZCIsImNvbnNvbGUiLCJsb2ciLCJyZXN1bHQiLCJ1cGxvYWRlciIsInVwbG9hZCIsInB1YmxpY19pZCIsImZvbGRlciIsInJlc291cmNlX3R5cGUiLCJ0cmFuc2Zvcm1hdGlvbiIsInF1YWxpdHkiLCJmZXRjaF9mb3JtYXQiLCJ3aWR0aCIsImhlaWdodCIsImNyb3AiLCJlYWdlciIsImdyYXZpdHkiLCJzZWN1cmVfdXJsIiwidXJsIiwiZXJyb3IiLCJFcnJvciIsImRlbGV0ZUZvdG9DbG91ZGluYXJ5IiwiZGVzdHJveSIsImdldE9wdGltaXplZEltYWdlVXJsIiwib3B0aW9ucyIsImdldFRodW1ibmFpbFVybCIsInNpemUiLCJnZXRGb3RvTGF2b3JhemlvbmUiLCJzZWFyY2giLCJleHByZXNzaW9uIiwic29ydF9ieSIsImV4ZWN1dGUiLCJyZXNvdXJjZXMiLCJtYXAiLCJyZXNvdXJjZSIsImNyZWF0ZWRBdCIsImNyZWF0ZWRfYXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/cloudinary.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/lodash","vendor-chunks/cloudinary","vendor-chunks/q"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fupload-foto%2Froute&page=%2Fapi%2Fupload-foto%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload-foto%2Froute.ts&appDir=%2FUsers%2Fakirayouky%2FDesktop%2FSiti%2FCondomini%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fakirayouky%2FDesktop%2FSiti%2FCondomini&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();