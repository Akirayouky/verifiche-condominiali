(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{890:function(e,t,s){Promise.resolve().then(s.bind(s,7257))},7257:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var i=s(7437),l=s(2265);function a(){let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)(!1),[n,r]=(0,l.useState)(null),[d,o]=(0,l.useState)(!1),c=()=>{"Akirayouky Criogenia2025!?"===e?a(!0):alert("❌ Password non corretta!")},u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2?arguments[2]:void 0;o(!0);try{let i={method:t,headers:{"Content-Type":"application/json"}};s&&(i.body=JSON.stringify(s));let l=await fetch(e,i),a=await l.json();r({endpoint:e,method:t,status:l.status,data:a,timestamp:new Date().toISOString()})}catch(s){r({endpoint:e,method:t,error:s instanceof Error?s.message:"Unknown error",timestamp:new Date().toISOString()})}finally{o(!1)}};return s?(0,i.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"\uD83D\uDD27 Pannello Sviluppatore"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Suite di test e debugging per il sistema di verifiche condominiali"})]}),(0,i.jsx)("button",{onClick:()=>{a(!1),t(""),r(null)},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"\uD83D\uDEAA Logout"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\uD83D\uDDC4️ Test Database"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("button",{onClick:()=>u("/api/debug-notifiche"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors text-left",children:"\uD83D\uDCCA Verifica Notifiche Database"}),(0,i.jsx)("button",{onClick:()=>u("/api/debug-notifiche","POST"),className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors text-left",children:"\uD83E\uDDEA Crea Notifica Test"}),(0,i.jsx)("button",{onClick:()=>u("/api/debug-db"),className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition-colors text-left",children:"\uD83D\uDD0D Debug Strutture Database"})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\uD83D\uDD14 Test Notifiche Real-Time"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("button",{onClick:()=>u("/api/notifications/stream?userId=e1017f5d-83e1-4da3-ac81-4924a0dfd010"),className:"w-full bg-orange-600 text-white py-2 px-4 rounded-md hover:bg-orange-700 transition-colors text-left",children:"\uD83D\uDD17 Test SSE Connection"}),(0,i.jsx)("button",{onClick:()=>u("/api/test-lavorazioni","POST",{userId:"e1017f5d-83e1-4da3-ac81-4924a0dfd010",condominioId:"00000000-1111-2222-3333-444444444444"}),className:"w-full bg-yellow-600 text-white py-2 px-4 rounded-md hover:bg-yellow-700 transition-colors text-left",children:"\uD83D\uDCCB Test Lavorazione + Notifica"}),(0,i.jsx)("button",{onClick:()=>u("/api/notifications/cleanup?userId=e1017f5d-83e1-4da3-ac81-4924a0dfd010","POST"),className:"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors text-left",children:"\uD83E\uDDF9 Test Cleanup Notifiche"})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"⏰ Test Scheduler"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("button",{onClick:()=>u("/api/notifications/scheduler","POST",{action:"check-scadenze"}),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors text-left",children:"\uD83D\uDD0D Controlla Scadenze"}),(0,i.jsx)("button",{onClick:()=>u("/api/notifications/scheduler","POST",{action:"send-daily-reminders"}),className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors text-left",children:"\uD83D\uDCC5 Test Reminder"}),(0,i.jsx)("button",{onClick:()=>u("/api/notifications/scheduler","POST",{action:"cleanup"}),className:"w-full bg-orange-600 text-white py-2 px-4 rounded-md hover:bg-orange-700 transition-colors text-left",children:"\uD83E\uDDF9 Cleanup Scheduler"})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"☁️ Test Cloudinary"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("button",{onClick:()=>u("/api/migrate-foto"),className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition-colors text-left",children:"\uD83D\uDCF8 Verifica Migrazione Foto"}),(0,i.jsx)("button",{onClick:()=>u("/api/status"),className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors text-left",children:"\uD83D\uDCCA Status Sistema"}),(0,i.jsx)("button",{onClick:()=>u("/api/upload-foto","POST",{test:!0}),className:"w-full bg-cyan-600 text-white py-2 px-4 rounded-md hover:bg-cyan-700 transition-colors text-left",children:"\uD83D\uDD27 Test Upload API"})]})]})]}),n&&(0,i.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\uD83D\uDCCA Risultati Test"}),(0,i.jsx)("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-700",children:"✕ Chiudi"})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:"Endpoint:"}),(0,i.jsxs)("code",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[n.method," ",n.endpoint]}),n.status&&(0,i.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(n.status<400?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:n.status}),(0,i.jsx)("span",{className:"text-gray-500 text-xs",children:new Date(n.timestamp).toLocaleTimeString()})]}),(0,i.jsx)("pre",{className:"text-sm overflow-auto bg-white p-4 rounded border max-h-96",children:JSON.stringify(n.data||n.error,null,2)})]})]}),d&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full"}),(0,i.jsx)("span",{className:"text-gray-700",children:"Esecuzione test..."})]})})}),(0,i.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"\uD83D\uDCCB Sistema Overview"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\uD83D\uDD14 Notifiche"}),(0,i.jsxs)("ul",{className:"text-gray-600 space-y-1",children:[(0,i.jsx)("li",{children:"• SSE Real-time attivo"}),(0,i.jsx)("li",{children:"• Badge count corretto"}),(0,i.jsx)("li",{children:"• Cleanup automatico"}),(0,i.jsx)("li",{children:"• Scheduler funzionante"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"☁️ Cloudinary"}),(0,i.jsxs)("ul",{className:"text-gray-600 space-y-1",children:[(0,i.jsx)("li",{children:"• 25GB storage gratuito"}),(0,i.jsx)("li",{children:"• CDN globale"}),(0,i.jsx)("li",{children:"• Auto-optimization"}),(0,i.jsx)("li",{children:"• PDF leggibili"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\uD83D\uDCF1 PWA"}),(0,i.jsxs)("ul",{className:"text-gray-600 space-y-1",children:[(0,i.jsx)("li",{children:"• Installabile"}),(0,i.jsx)("li",{children:"• Service Worker"}),(0,i.jsx)("li",{children:"• Offline ready"}),(0,i.jsx)("li",{children:"• Mobile optimized"})]})]})]})]})]}):(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,i.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[(0,i.jsxs)("div",{className:"text-center mb-6",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\uD83D\uDD27 Pannello Sviluppatore"}),(0,i.jsx)("p",{className:"text-gray-600 text-sm",children:"Accesso riservato agli sviluppatori"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Sviluppatore"}),(0,i.jsx)("input",{type:"password",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>"Enter"===e.key&&c(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Inserisci la password..."})]}),(0,i.jsx)("button",{onClick:c,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"\uD83D\uDD13 Accedi"})]})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=890)}),_N_E=e.O()}]);